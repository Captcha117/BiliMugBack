<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.oken1.modules.video.dao.VideoDao">
    <select id="getVideosByGameId" resultType="map">
        SELECT
        v.aid,
        v.title,
        v.pub_time,
        v.copyright,
        v.uid,
        v.play,
        u.id
        FROM
        video v
        LEFT JOIN video_content c ON v.aid = c.aid
        LEFT JOIN uploader u ON v.uid = u.uid
        WHERE
        c.content_id = #{gameId}
        ORDER BY
        play DESC
    </select>
</mapper>